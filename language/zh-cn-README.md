# 说明

### 游戏规则

需要三名至八名玩家一同游玩，游戏分为两队（红队、蓝队）。

每一队每一回合会由题库中抽出四个单词作为该队专属的关键词（有序）。

每一队每一回合机器人皆会指派一名加密者，统一由蓝队先进行揭示。

加密者会从机器人得到一组密码（3码），密码对应该队关键词的号码。

加密者必须描述所对应的关键词，且保证此描述让敌对无法猜出，但能让队友理解（注意：描述不得重复，且不得为无意义之单词或关键词长度...等）。

若队友无法回答出正确的密码，该队此轮视为失败，并获得一个传递失败硬币（下简称失败硬币）；队友猜出密码则不列入胜利计算。

若敌队猜出加密者的密码，敌队此轮视为胜利，并获得一个解码成功硬币（下简称成功硬币）；敌队猜错不列入失败计算。

当两方皆说出猜测的密码后，即换队重复以上。

一回合的定义是两队揭秘者皆进行密码揭示后使得进行下一轮，且在下一轮开始前必须进行胜负判断。


### 胜负判断
每一回合结束，进行胜负判断。

若有一方持有2个或以上成功硬币则该队胜利。

若有一方持有2个或以上失败硬币则该队失败。

若同一对拥有2个或以上成功硬币和2个或以上失败硬币，或两队皆获得等量的成功或失败硬币。则进入判断式：

**判断式**

计算双方硬币分数（成功硬币+1，失败硬币-1），大者获胜。

## 机器人辅助
本机器人为半自动化游戏辅助，大部分游戏进程全自动化，部分功能由玩家手动，例如：保留了抽卡的快乐、举报系统...等。

当游戏启动后机器人会自动创建包含分类共六个频道（1个分类、3个语音频道、2个文字频道）、两个游戏身份组，机器人会自动抓取已建立过的频道、身份组，不会再次创建。

游戏启动可以选择要以什么方式进行分组，提供自行组队和随机组队两种。
    * 自行组队：自行组队组队时间为10秒，按下表情即可加入该队。
    * 随机组队：随机组队必须提供参与人数已进行分组，当机器人搜集和提供的参数匹配之数量后，即停止分组。

游戏正式开始后双方可以在各自的文字频道进行指令输入（详见：[功能](#功能)），也可以在各自的语音频道用语音交流，并不会别敌队看到，若有需求游戏有另外创建一个共通语音频道供双方同时进行友善交流。

机器人会侦测当前加密者语音状态，当前的加密者只被允许在共同频道发言，且发言时必须同时存在两队玩家，否则系统会自动静音加密者。
另外，若是加密者尝试加入其他频道，系统会自动将其强制从其他频道转至共通频道（也就是说，当看到加密者在共同频道快速进出，表示其尝试进入其他频道，有作弊嫌疑）。

机器人会自动选出加密者，请加密者输入`$d code`来抽取密码，并直接对机器人输入描述句，语法：`$dec apple, banana, cat`。
其余玩家会在自己的队伍频道看到描述，请与团队集思广益猜出密码，假如讨论结果为2 3 1，请在频道内输入`$a 2 3 1`来送出最终答案。

当玩家送出密码后即不可更改，机器人会在第一时间对您的答案进行反应（点赞），对的打✅，错的打❌。
<br>补充：若加密者尝试在频道输入任何字句，所抽取的密码将被重置，且记作弊1并在双方频道公布作弊事宜。

由于功能上的不足（如：重复描述。中文博大精深，相似词太多），若玩家做出超出机器人理解的行为，机器人提供了举报系统，玩家举报玩家时会发起投票，若投票超过3/4人同意，则该玩家列作弊1，并重新抽卡。

当胜利方或失败方出现后，机器人会将所有人拉至共通频道，并播放Bgm，最后机器人会记录所属队伍玩家生涯纪录（可经由指令查询生涯胜率）。

<style>
table th:first-of-type {
    width: 30%;
}
table th:nth-of-type(2) {
    width: 70%;
}
</style>

### 功能
|指令|描述|
|-----------|-----	|
|`$start <rounds> <mode> <participants> <options>`	|开始游戏。若无提供游戏次数或超过10，则预设为3。游戏分队提供两种模式，完全随机和自选分队，随机组队必须输入游戏人数。预设为自选分队。额外功能选项开发中...。mode: random, normal<br>例如：`$start 10 random 4`随机分组参与人数4人共10回合。 `$start`自动分组，预设3回合。	|
|`$draw <keywords> or <codes>` 	|抽关键词和加密者密码。draw可以缩写为d，keywords可以缩写为key。<br>例如：`$draw key` = 抽关键词，`$d code` = 抽密码。   	|
|`$describe [descriptions]`|此指令**必须**直接向机器人发送信息，加密者即可将描述传给双方的文字频道。descriptions指抽到的密码顺序进行描述，分隔请用**半角逗号或是空格**。<br>例如：关键词：1. 苹果 2. iPhone 3. 水壶 4. 舞会，抽到密码为2,1,3，则依照顺序描述出对应关键词的号码，`$des 手机, 水果, 水`。|
|`$answer [codes]`|发送猜测的密码，每一队只能发送一次，一经发送系统会自动回传正确或错误提示<br>例如：`$ans 1 2 3`。|
|`$history <team>`|列出所有已发送过的描述，可以指定队伍或是列出所有描述。<br>例如：`$history`列出所有描述 `$history blue`列出蓝队描述。|
|`$keywords [<add> <delete> <update>]`|列出所有的关键词，新增关键词，删除关键词，替换指定关键词<br>例如：`$keyword add Game`新增Game到词库里，`$keyword del Game`从词库删除Game，`$keyword update 2 Game`词库中序号2的单词替换为Game。|
|`$stop`|停止游戏进程、删除身份组，并初始游戏状态（不影响生涯纪录）|
|`$delete`|删除所有游戏频道和身份组。无法再游戏进行中使用此指令。|
|`$report @user <reason>`|举报玩家，并由机器人向所有人发起投票，若票数超过总人数的3/4，此投票视为有效，将为该玩家记作弊1，且重置密码。<br>例如：`$report @Ann describe`举报Ann描述时作弊，并发起投票。|
|`$language <language>`|切换语言设定，目前支持English、简体中文、繁體中文。|
